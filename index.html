<script>
const waNumber="6282199327646";
const diskonPersen=20;
let diskonAktif=false;

/* ===== HARGA 1â€“15 ===== */
const hargaPaket = {
  1:100000,
  2:200000,
  3:300000,
  4:335000,
  5:370000,
  6:400000,
  7:420000,
  8:450000,
  9:475000,
  10:500000,
  11:525000,
  12:550000,
  13:575000,
  14:600000,
  15:625000
};

let totalHarga=0;

/* ===== DISKON ===== */
function toggleDiskon(){
  diskonAktif=!diskonAktif;
  diskonBtn.innerText=diskonAktif?"Matikan Diskon ("+diskonPersen+"%)":"Aktifkan Diskon";
  hitung();
}

function applyDiskon(h){
  return diskonAktif ? h - (h*diskonPersen/100) : h;
}

/* ===== HITUNG HARGA ===== */
function hitungHarga(jumlah){
  if(jumlah>=26) return jumlah*25000;
  if(jumlah>=16) return jumlah*35000;
  return hargaPaket[jumlah]||0;
}

/* ===== HITUNG KOSTUM ===== */
function hitungKostum(jumlah){
  if(jumlah<=3) return 1;
  if(jumlah<=10) return 2;
  return 3;
}

/* ===== FORM ===== */
function updateForm(){
  const l=layanan.value;
  formWisuda.style.display=l=="wisuda"?"block":"none";
  formUmum.style.display=l=="umum"?"block":"none";
  hitung();
}

function hitung(){
  if(layanan.value=="wisuda") hitungWisuda();
  if(layanan.value=="umum") hitungUmum();
}

/* ===== WISUDA ===== */
function hitungWisuda(){
  const paket=paketWisuda.value;
  const orang=parseInt(orangWisuda.value)||0;
  let harga=0;

  if(paket=="family") harga=350000+(orang>10?(orang-10)*25000:0);
  if(paket=="plus") harga=675000+(orang>12?(orang-12)*25000:0);

  totalHarga=applyDiskon(harga);
  tampil();
}

/* ===== FOTO UMUM ===== */
function hitungUmum(){
  const orang=parseInt(orangUmum.value)||0;
  const harga=hitungHarga(orang);
  totalHarga=applyDiskon(harga);
  tampil();
}

/* ===== TAMPIL ===== */
function tampil(){
  total.innerText=totalHarga>0?"Total: Rp "+totalHarga.toLocaleString("id-ID"):"Total: -";
}

/* ===== KIRIM WA ===== */
function kirimWA(){
  if(!nama.value||!hp.value||!jam.value){alert("Lengkapi nama, WA & jam");return;}

  let detail="";
  if(layanan.value=="wisuda"){
    detail="Paket: "+paketWisuda.value+"%0AJumlah orang: "+orangWisuda.value;
  }

  if(layanan.value=="umum"){
    const orang=parseInt(orangUmum.value)||0;
    const kostum=hitungKostum(orang);
    detail="Jumlah orang: "+orang+"%0AKostum termasuk: "+kostum;
  }

  const pesan=
  "Halo Logaloga Studio%0A"+
  "Nama: "+nama.value+"%0A"+
  "WA: "+hp.value+"%0A"+
  "Jam: "+jam.value+"%0A"+
  "Layanan: "+layanan.value+"%0A"+
  detail+"%0A"+
  "Total: Rp "+totalHarga.toLocaleString("id-ID")+(diskonAktif?" (Diskon "+diskonPersen+"%)":"");

  window.open("https://wa.me/"+waNumber+"?text="+pesan,"_blank");
}

layanan.onchange=updateForm;
paketWisuda.onchange=hitungWisuda;
orangWisuda.oninput=hitungWisuda;
orangUmum.oninput=hitungUmum;
</script>
